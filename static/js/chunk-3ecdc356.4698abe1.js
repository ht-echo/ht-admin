(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3ecdc356"],{"4e75":function(e,n,r){},6282:function(e,n,r){"use strict";r("4e75")},"62c4":function(e,n,r){"use strict";r.r(n);var s={data:function(){return{code:'\n// 请求封装\n\nimport axios from "axios";\nimport store from "../store";\nimport qs from "qs";\nimport { Message } from "element-ui";\nimport NProgress from "nprogress";\n\naxios.defaults.timeout = 9000; //超时响应\n// 配置请求头（推荐）\naxios.defaults.headers.common["token"] = store.state.token;\n// axios 默认不发送cookie，需要全局设置true发送cookie\naxios.defaults.withCredentials = true;\nlet baseURL = window.location.origin;\naxios.defaults.baseURL = baseURL; //生产地址\nif (process.env.NODE_ENV == "development") {\n  axios.defaults.baseURL = "http://192.168.1.1"; //开发地址\n}\n//赋值判断用json还是formData\nlet newIsFormData = "";\nfunction isFormDataFun(isFormData) {\n  newIsFormData = isFormData;\n}\n// 请求拦截器\naxios.interceptors.request.use(\n  config => {\n    NProgress.start();\n    if (config.method == "post" && newIsFormData) {\n      config.headers.post["Content-Type"] = "application/json;charset=utf-8";\n    } else if (newIsFormData == false) {\n      config.headers.post["Content-Type"] = "application/x-www-form-urlencoded";\n    }\n    return config;\n  },\n  error => {\n    return Promise.error(error);\n  }\n);\n// 响应拦截器\naxios.interceptors.response.use(\n  response => {\n    NProgress.done();\n    if (response.status === 200) {\n      return Promise.resolve(response);\n    } else {\n      Message({\n        showClose: true,\n        message: response\n      }); // 失败 弹出失败提示\n      return Promise.reject(response);\n    }\n  },\n  // 服务器状态error\n  error => {\n    NProgress.done();\n    Message({\n      showClose: true,\n      message: "请求超时！" + error,\n      duration: 9000\n    }); // 失败 弹出失败提示\n    return Promise.reject(error);\n    // if (error.response.status) {\n    //   return Promise.reject(error.response)\n    // }\n  }\n);\n\n// api方法封装\nexport default {\n  get(url, params = {}) {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(url, {\n          params\n        })\n        .then(res => {\n          if (res) {\n            if (res.data.code === 0) {\n              resolve(res.data); // 成功\n            } else {\n              resolve(res.data);\n              Message({\n                showClose: true,\n                message: res.data.message,\n                duration: 2000\n              }); // 失败 弹出失败提示\n            }\n          }\n        })\n        .catch(err => {\n          reject(err); //失败\n        });\n    });\n  },\n  post(url, params = {}, isFormData = true) {\n    isFormDataFun(isFormData);\n    if (isFormData) {\n      params = JSON.stringify(params);\n    } else {\n      params = qs.stringify(params);\n    }\n    return new Promise((resolve, reject) => {\n      axios\n        .post(url, params)\n        .then(res => {\n          if (res) {\n            if (res.data.code === 0) {\n              resolve(res.data); // 成功\n            } else {\n              resolve(res.data);\n              Message({\n                showClose: true,\n                message: res.data.message,\n                duration: 2000\n              }); // 失败 弹出失败提示\n            }\n          }\n        })\n        .catch(err => {\n          reject(err); // 失败\n        });\n    });\n  }\n};\n//  '}},mounted:function(){}},o=(r("6282"),r("2877")),t=Object(o.a)(s,(function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"code"},[r("highlightjs",{staticClass:"highlightCode",attrs:{language:"javascript",autodetect:"",code:e.code}})],1)}),[],!1,null,"81e98160",null);n.default=t.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6eea760f"],{"0324":function(e,t,i){"use strict";i("dad7")},4417:function(e,t,i){"use strict";i("8648")},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d7167","./ca.js":"d7167","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e9","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e9","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117b","./ug-cn.js":"6117b","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="4678"},"623b":function(e,t,i){"use strict";i("bd7a")},"6c72":function(e,t,i){"use strict";i.r(t);var n=(i("96cf"),i("1da1")),a=i("c1df"),s=i.n(a),o=(i("7db0"),i("c975"),i("ac1f"),i("5319"),{components:{},props:{},data:function(){return{videoLoading:!1,videos:[],videoTextShow:!1,downloadFileShow:!1,companyVideoData:{},plugin:!0,iWidth:"100%",iHeight:"100%",webVideo:{},iStreamType:1,iProtocol:1,bZeroChannel:!1,xmlDocData:{},g_iWndIndex:0,g_iSearchTimes:0,szStartTime:"2020-11-05 00:00:00",szEndTime:"2020-11-05 23:59:59",bChecked:!1,iChannelID:1}},created:function(){this.companyVideoData={nvrIp:"192.168.1.190",account:"admin",password:"sc123456",channelId:1}},mounted:function(){var e=this;this.nvrIp=this.companyVideoData.nvrIp,this.port=80,this.account=this.companyVideoData.account,this.password=this.companyVideoData.password,this.iChannelID=this.companyVideoData.channelId,this.$nextTick((function(){setTimeout((function(){e.videoInitPlugin()}),10)})),window.onresize=function(){WebVideoCtrl.I_Resize($(".divPluginBox").width(),$(".divPluginBox").height())}},beforeDestroy:function(){clearInterval(this.playBackTimeID)},methods:{clearPlayBackTime:function(){clearInterval(this.playBackTimeID)},videoInitPlugin:function(){if(this.iRet=window.WebVideoCtrl.I_CheckPluginInstall(),-1==this.iRet)return this.downloadFileShow=!0,void(this.videoTextShow=!1);this.downloadFileShow=!1,this.videoTextShow=!0,this.initPlugin()},initPlugin:function(){var e=this;WebVideoCtrl.I_InitPlugin("100%","100%",{bWndFull:!0,iPackageType:2,iWndowType:1,bNoPlugin:!0,cbSelWnd:function(t){e.g_iWndIndex=parseInt($(t).find("SelectWnd").eq(0).text(),10)},cbInitPluginComplete:function(){e.$nextTick((function(){setTimeout((function(){WebVideoCtrl.I_InsertOBJECTPlugin("divPlugin")}),20)}))}})},clickLogin:function(){var e=this;WebVideoCtrl.I_Login(this.nvrIp,1,this.port,this.account,this.password,{success:function(t){e.getChannelInfo(this.nvrIp)},error:function(e){}})},getChannelInfo:function(e){var t=this;WebVideoCtrl.I_GetAnalogChannelInfo(e,{async:!1,success:function(e){$(e).find("VideoInputChannel").length},error:function(){}}),WebVideoCtrl.I_GetDigitalChannelInfo(e,{async:!1,success:function(e){var i=$(e).find("InputProxyChannelStatus");t.$emit("getOChannels",i)},error:function(){WebVideoCtrl.I_GetLastError()}}),WebVideoCtrl.I_GetZeroChannelInfo(e,{async:!1,success:function(e){$(e).find("ZeroVideoChannel")},error:function(){}})},initPlay:function(){for(var e=this.companyVideoData.nvrIp,t=0;t<1;t++){var i=parseInt(t+1,10);WebVideoCtrl.I_StartRealPlay(e,{iStreamType:1,iChannelID:i,iWndIndex:t})}},searchRecord:function(e,t){this.videos=[],this.clickRecordSearch(0,e,t)},clickRecordSearch:function(e,t,i){var n=this,a=this.nvrIp,o=this.iChannelID,r=this.iStreamType,c=t,l=i;(null!=l||null!=c)&&Date.parse(l.replace(/-/g,"/"))-Date.parse(c.replace(/-/g,"/"))<0||null!=a&&(0==e&&(this.g_iSearchTimes=0),WebVideoCtrl.I_RecordSearch(a,o,c,l,{iStreamType:r,iSearchPos:40*this.g_iSearchTimes,success:function(e){if("MORE"===$(e).find("responseStatusStrg").eq(0).text()){for(var a=0,o=$(e).find("searchMatchItem").length;a<o;a++){if($(e).find("playbackURI").eq(a).text().indexOf("name=")<0)break;var r=$(e).find("startTime").eq(a).text(),c=$(e).find("endTime").eq(a).text(),l=s()(c).unix()-s()(r).unix();n.videos.push({startTime:s()(r).subtract(8,"hours").format("YYYYMMDDHHmmss"),duration:l})}n.g_iSearchTimes++,n.clickRecordSearch(1,t,i)}else if("OK"===$(e).find("responseStatusStrg").eq(0).text()){for(var u=$(e).find("searchMatchItem").length,d=0;d<u;d++){if($(e).find("playbackURI").eq(d).text().indexOf("name=")<0)break;var f=$(e).find("startTime").eq(d).text(),m=$(e).find("endTime").eq(d).text(),h=s()(m).unix()-s()(f).unix();n.videos.push({startTime:s()(f).subtract(8,"hours").format("YYYYMMDDHHmmss"),duration:h})}n.$emit("getVideos",n.videos)}else"NO MATCHES"===$(e).find("responseStatusStrg").eq(0).text()&&setTimeout((function(){n.$emit("playBack",!1),n.$message({duration:1800,type:"info",message:"没有录像文件",showClose:!0})}),50)},error:function(e,t){n.$emit("playBack",!1),n.$message({duration:1800,type:"info",message:"搜索录像失败",showClose:!0})}}))},clickStartPlayback:function(e,t){var i=WebVideoCtrl.I_GetWindowStatus(this.g_iWndIndex),n=this.companyVideoData.nvrIp,a=(this.iChannelID,this);if(null!=n){var o=function(){WebVideoCtrl.I_StartPlayback(n,{iRtspPort:554,iStreamType:a.iStreamType,iChannelID:a.iChannelID,szStartTime:e,szEndTime:t,success:function(){a.$emit("playBackOnce"),a.playBackTimeID=setInterval((function(){WebVideoCtrl.I_GetOSDTime({iWndIndex:0,success:function(e){"error"!=e?1970!=s()(e).format("YYYY")&&a.$emit("playBack",e):clearInterval(a.playBackTimeID)},error:function(){clearInterval(a.playBackTimeID)}})}),1e3)},error:function(e,t){if(403===e)a.$message({duration:1800,type:"info",message:"设备不支持Websocket取流！",showClose:!0});else{var i=WebVideoCtrl.I_GetLastError();a.$notify({title:"错误信息",message:"底层错误码：".concat(i),duration:3e3}),a.$message({duration:1800,type:"info",message:"开始回放失败",showClose:!0})}a.$emit("playBack",!1)}})};null!=i?WebVideoCtrl.I_Stop({success:function(){o()}}):o()}},toXMLStr:function(e){var t="";return-1==(t=(new XMLSerializer).serializeToString(e)).indexOf("<?xml")&&(t="<?xml version='1.0' encoding='utf-8'?>"+t),t}}}),r=(i("4417"),i("2877")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"divPluginBox"},[i("a",{directives:[{name:"show",rawName:"v-show",value:e.downloadFileShow,expression:"downloadFileShow"}],ref:"downloadFile",staticClass:"downloadFileLink",attrs:{href:"/WebComponents.exe",download:""}},[e._v(" 请点击此处下载插件，安装时请关闭浏览器 ")]),i("div",{staticClass:"plugin",staticStyle:{width:"100%",height:"100%"},attrs:{id:"divPlugin"}}),i("span",{directives:[{name:"show",rawName:"v-show",value:e.videoTextShow,expression:"videoTextShow"}],staticClass:"downloadFile"},[e._v("无视频")])])}),[],!1,null,"7e66d34a",null).exports,l=(i("a9e3"),i("b64b"),i("b85c")),u={data:function(){return{timeCursorX:0,timeDayX:0,bMoving:!1}},props:{minutesPerUnit:{default:5,type:Number},videos:{default:function(){return[]}}},mounted:function(){var e=this.$refs.cursor,t=this.$refs.day,i=(this.$el,this);function n(t){var n=$(e).data("originPageX"),a=t.pageX-n;i.timeCursorX=$(e).position().left+a,$(e).data("originPageX",t.pageX)}function a(t){var n=t.originalEvent.targetTouches[0],a=$(e).data("originPageX"),s=n.pageX-a;i.timeCursorX=$(e).position().left+s,$(e).data("originPageX",n.pageX)}function s(e){var n=$(t).data("originPageX"),a=e.pageX-n;i.timeDayX=$(t).position().left+a,$(t).data("originPageX",e.pageX)}function o(e){var n=e.originalEvent.targetTouches[0],a=$(t).data("originPageX"),s=n.pageX-a;i.timeDayX=$(t).position().left+s,$(t).data("originPageX",n.pageX)}$(e).on("mousedown",(function(t){$(e).data("originPageX",t.pageX),i.bMoving=!0,$(document).on("mousemove",n).one("mouseup",(function(t){$(document).off("mousemove",n),$(e).removeData("originPageX"),i.triggerTimeChange(),i.bMoving=!1}))})).on("touchstart",(function(t){var n=t.originalEvent.targetTouches[0];$(e).data("originPageX",n.pageX),i.bMoving=!0,$(document).on("touchmove",a).one("touchend",(function(t){$(document).off("touchmove",a),$(e).removeData("originPageX"),i.triggerTimeChange(),i.bMoving=!1}))})),$(t).on("mousedown",(function(e){$(t).data("originPageX",e.pageX),i.bMoving=!0,$(document).on("mousemove",s).one("mouseup",(function(e){$(document).off("mousemove",s),$(t).removeData("originPageX"),i.triggerTimeChange(),i.bMoving=!1}))})).on("touchstart",(function(e){var n=e.originalEvent.targetTouches[0];$(t).data("originPageX",n.pageX),i.bMoving=!0,$(document).on("touchmove",o).one("touchend",(function(e){$(document).off("touchmove",o),$(t).removeData("originPageX"),i.triggerTimeChange(),i.bMoving=!1}))}))},watch:{videos:function(e){this.triggerTimeChange()}},methods:{hourText:function(e){return s()().hour(e).minute(0).second(0).format("HH:mm")},minuteActiveClass:function(e){var t=s()().hour(0).minute(e).format("HH:mm");return Object.keys(this.activeMinutes).indexOf(t)>=0?"active":""},minuteTitle:function(e){var t=s()().hour(0).minute(e).format("HH:mm");return Object.keys(this.activeMinutes).indexOf(t)>=0?t:""},clickMinute:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.bMoving||(this.timeCursorX=e+this.timeDayX,t&&this.triggerTimeChange())},triggerTimeChange:function(){this.$emit("timeChange",this.activeMinutes[this.timeCursorText],!0)}},computed:{timeCursorText:{get:function(){var e=parseInt((this.timeCursorX-this.timeDayX)/this.minutesPerUnit)*this.minutesPerUnit;return s()().hour(0).minute(e).format("HH:mm")},set:function(){this.timeCursorX>=$(this.$el).innerWidth()&&(this.timeCursorX=$(this.$el).innerWidth()-1),this.timeCursorX<0&&(this.timeCursorX=0),this.timeDayX<$(this.$el).innerWidth()-$(this.$refs.day).outerWidth()&&(this.timeDayX=$(this.$el).innerWidth()-$(this.$refs.day).outerWidth()),this.timeDayX>0&&(this.timeDayX=0),this.timeCursorX-this.timeDayX>=1440&&(this.timeDayX=$(this.$el).innerWidth()-$(this.$refs.day).outerWidth(),this.timeCursorX=$(this.$el).innerWidth()-1)}},activeMinutes:function(){var e,t={},i=Object(l.a)(this.videos);try{for(i.s();!(e=i.n()).done;){var n=e.value,a=s()(n.startTime,"YYYYMMDDHHmmss"),o=parseInt(n.duration);if(!(o<=0||o>36e3)){var r=a.unix();r-=r%(60*this.minutesPerUnit);var c=s.a.unix(r),u=c.format("HH:mm");t[u]=Object.assign({currentTime:0},n);for(var d=1;d<=o;d++){a.add(1,"seconds"),r=a.unix(),r-=r%(60*this.minutesPerUnit);var f=(c=s.a.unix(r)).format("HH:mm");f!=u&&(t[u=f]=Object.assign({currentTime:d},n))}}}}catch(e){i.e(e)}finally{i.f()}return t}}},d=(i("0324"),Object(r.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-rule"},[i("div",{ref:"day",staticClass:"time-day",style:{left:e.timeDayX+"px"}},[e._l(1440/e.minutesPerUnit,(function(t,n){return i("div",{key:n+"out",class:["time-minute",e.minuteActiveClass((t-1)*e.minutesPerUnit)],style:{width:e.minutesPerUnit+"px"},attrs:{title:e.minuteTitle((t-1)*e.minutesPerUnit)},on:{click:function(i){i.preventDefault(),e.clickMinute((t-1)*e.minutesPerUnit)}}})})),e._l(24,(function(t){return i("div",{key:t,class:[1==t?"time-text-first":"time-text"]},[e._v(" "+e._s(e.hourText(t-1))+" ")])}))],2),i("div",{ref:"cursor",staticClass:"time-cursor",style:{left:e.timeCursorX+"px"}},[i("div",{staticClass:"time-cursor-text"},[e._v(e._s(e.timeCursorText))])])])}),[],!1,null,"3d803cc8",null)).exports,f=(i("3f2c"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"planTable"},[i("el-button",{staticClass:"editVideoPlan",attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(t){e.planTable=!0}}},[e._v(" 模板编辑 ")]),i("el-dialog",{staticClass:"plansDialog",attrs:{width:"1200px",title:"模板相关",visible:e.planTable,"append-to-body":!0},on:{"update:visible":function(t){e.planTable=t}}},[i("p",{staticClass:"videoTitle"},[e._v(" 录像时段--单击选择或取消-- 单击不放滑动可快速选择--单击标题可反选行或列-- 蓝色表示保留--灰色表示删除 ")]),i("div",{staticClass:"plans"},[i("div",{staticClass:"plans-header"},[i("div",{staticClass:"plans-row-name plans-row-title",on:{click:function(t){return e.resetPlan("click")}}},[i("i",{staticClass:"el-icon-refresh"}),e._v(" 重置 ")]),e._l(24,(function(t,n){return i("div",{key:t,staticClass:"plans-row-name plans-header-row",on:{click:function(t){return e.chooseAllHour(n)}}},[e._v(" "+e._s(n)+"时 ")])}))],2),e._l(e.week,(function(t,n){return i("div",{key:"星期"+t,staticClass:"plans-row"},[i("div",{staticClass:"plans-row-name",on:{click:function(t){return e.chooseAllDay(n)}}},[e._v(" 星期"+e._s(t)+" ")]),i("div",{staticClass:"plans-row-info"},e._l(24,(function(t,a){return i("div",{key:"info"+t,staticClass:"plans-hour",class:[e.planHourData[n][a]?"chooseClass":"noChooseClass"],on:{mousedown:function(t){return e.mousedownPlanHour(n,a)},mouseup:function(t){e.isMousedown=!1},contextmenu:function(e){e.preventDefault()},mouseover:function(t){return e.mousemovePlanHour(n,a)}}})})),0)])}))],2),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.planTable=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.submitPlan}},[e._v(" 确 定 ")])],1)])],1)}),m={data:function(){return{planTable:!1,planHourData:[],week:["一","二","三","四","五","六","日"]}},created:function(){this.resetPlan()},methods:{submitPlan:function(){this.$emit("submitPlan",this.planHourData),this.planTable=!1},resetPlan:function(e){var t=this;if("click"==e)this.$confirm("恢复初始配置，当前的编辑会丢失，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var e=0;e<7;e++){t.planHourData.push([]);for(var i=0;i<24;i++)t.planHourData[e][i]=!1}}));else for(var i=0;i<7;i++){this.planHourData.push([]);for(var n=0;n<24;n++)this.planHourData[i][n]=!1}this.$forceUpdate()},planHourCommon:function(e,t){this.planHourData[e][t]=!this.planHourData[e][t],this.$forceUpdate()},mousedownPlanHour:function(e,t){this.isMousedown=!0,this.planHourCommon(e,t)},mousemovePlanHour:function(e,t){this.isMousedown&&this.planHourCommon(e,t)},chooseAllHour:function(e){for(var t=0;t<7;t++)this.planHourCommon(t,e)},chooseAllDay:function(e){for(var t=0;t<24;t++)this.planHourCommon(e,t)}}},h={components:{CloudRecordTimeRule:d,StorageVideoDemo:c,PlanTable:(i("623b"),Object(r.a)(m,f,[],!1,null,null,null)).exports},data:function(){return{speedOther:1,speedNow:1,g_iWndIndex:0,isPlay:!1,chooseDayPick:"",dayParams:{},chooseDay:"",videos:[],loadingRecords:!1,cameraParams:{}}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.cameraParams={carmeStartTime:s()(new Date).format("YYYY-MM-DD"),isEvent:!1},e.cameraParams.carmeStartTime&&(e.chooseDay=e.cameraParams.carmeStartTime);case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this,t="",i="";if(this.cameraParams.isEvent){t=s()(this.cameraParams.carmeStartTime).subtract(5,"minutes").format("YYYY-MM-DDTHH:mm:ss")+"Z",i=s()(this.cameraParams.carmeStartTime).add(5,"minutes").format("YYYY-MM-DDTHH:mm:ss")+"Z";var n=s()(this.cameraParams.carmeStartTime),a=parseInt(60*n.format("HH"))+parseInt(n.format("mm"));this.updateVideos(t,i),setTimeout((function(){e.$refs.timeRule.clickMinute(a)}),100)}else{var o=this.cameraParams.carmeStartTime+"T00:00:00Z",r=this.cameraParams.carmeStartTime+"T23:59:59Z";this.updateVideos(o,r)}},computed:{},beforeDestroy:function(){},methods:{clickPause:function(){null!=WebVideoCtrl.I_GetWindowStatus(this.g_iWndIndex)&&WebVideoCtrl.I_Pause({success:function(){},error:function(){}})},clickResume:function(){null!=WebVideoCtrl.I_GetWindowStatus(this.g_iWndIndex)&&WebVideoCtrl.I_Resume({success:function(){},error:function(){}})},clickPlaySlow:function(){var e=this;null!=WebVideoCtrl.I_GetWindowStatus(this.g_iWndIndex)&&WebVideoCtrl.I_PlaySlow({success:function(){if(e.speedNow>1)e.speedNow=.5*e.speedNow;else{e.speedNow=.5*e.speedNow;var t=1/e.speedNow;e.speedOther="1/"+t}},error:function(){}})},clickPlayFast:function(){var e=this;null!=WebVideoCtrl.I_GetWindowStatus(this.g_iWndIndex)&&WebVideoCtrl.I_PlayFast({success:function(){if(e.speedNow=2*e.speedNow,e.speedNow<1){var t=1/e.speedNow;e.speedOther="1/"+t}},error:function(){}})},clickStopPlayback:function(){null!=WebVideoCtrl.I_GetWindowStatus(this.g_iWndIndex)&&WebVideoCtrl.I_Stop({success:function(){},error:function(){}})},clickFullScreen:function(){WebVideoCtrl.I_FullScreen(!0)},clickPlay:function(){this.isPlay?this.clickPause():this.clickResume(),this.isPlay=!this.isPlay},getOChannels:function(e){},playBackOnce:function(){this.isPlay=!0},playBack:function(e){var t=this;this.$nextTick((function(){t.loadingRecords=!1;var i=parseInt(60*s()(e).format("HH"))+parseInt(s()(e).format("mm"));t.$refs.timeRule.clickMinute(i,!1)}))},dateChage:function(e){this.$refs.livePlayerAll.clearPlayBackTime();var t=e+"T00:00:00Z",i=e+"T23:59:59Z";null!=e&&this.updateVideos(t,i),this.chooseDayPick=e},onTimeChange:function(e,t){var i=this;if(null!=e){setTimeout((function(){i.loadingRecords=!0}),0);var n=s()(e.startTime,"YYYYMMDDHHmmss").add(e.currentTime,"seconds").format("YYYY-MM-DDTHH:mm:ss")+"Z",a=this.cameraParams.carmeStartTime+"T59:59:59Z";this.$refs.livePlayerAll.clickStartPlayback(n,a)}},updateVideos:function(e,t){var i=this;this.$nextTick((function(){setTimeout((function(){i.$refs.livePlayerAll.clickLogin()}),600),setTimeout((function(){i.$refs.livePlayerAll.searchRecord(e,t)}),1e3)}))},getVideos:function(e){this.videos=e,this.loadingRecords=!1},goBack:function(){this.$router.go(-1)}}},b=(i("860e"),Object(r.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"storageVideo"},[i("PlanTable",{staticClass:"page-title"}),i("div",{staticClass:"storage-info"},[i("div",{staticClass:"chooseDay"},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},on:{change:e.dateChage},model:{value:e.chooseDay,callback:function(t){e.chooseDay=t},expression:"chooseDay"}})],1),i("StorageVideoDemo",{ref:"livePlayerAll",staticClass:"livePlayerAll",staticStyle:{width:"56vw",height:"31.5vw"},on:{getVideos:e.getVideos,playBack:e.playBack,playBackOnce:e.playBackOnce}}),i("div",{staticClass:"cortorlBar"},[i("div",{staticClass:"cortorlBar-left"},[i("div",{staticClass:"cortorlBar-left-info"},[i("el-button",{staticClass:"cortorlBar-btn",attrs:{title:e.isPlay?"暂停":"播放",type:"info",size:"small",icon:e.isPlay?"iconfont icon-stop":"iconfont icon-play"},on:{click:e.clickPlay}}),i("el-button",{staticClass:"cortorlBar-btn",attrs:{title:"停止",type:"info",size:"small",icon:"iconfont icon-reset"},on:{click:e.clickStopPlayback}}),i("el-button",{staticClass:"cortorlBar-btn",attrs:{title:"慢放",type:"info",size:"small",icon:"iconfont icon-speedDown"},on:{click:e.clickPlaySlow}}),i("el-button",{staticClass:"cortorlBar-btn",attrs:{title:"快进",type:"info",size:"small",icon:"iconfont icon-speedUp"},on:{click:e.clickPlayFast}}),i("span",{staticClass:"showMsg"},[i("span",[e._v("当前倍速：")]),i("span",{staticClass:"speedNow"},[e._v(" "+e._s(e.speedNow>=1?e.speedNow:e.speedOther)+" ")])])],1)]),i("el-button",{staticClass:"cortorlBar-btn full-btn",attrs:{title:"全屏",type:"info",size:"small",icon:"el-icon-rank"},on:{click:e.clickFullScreen}})],1),i("CloudRecordTimeRule",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingRecords,expression:"loadingRecords"}],ref:"timeRule",staticClass:"videoRule",attrs:{videos:e.videos,minutesPerUnit:1,"element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{timeChange:e.onTimeChange}})],1)],1)}),[],!1,null,"1d93e75a",null));t.default=b.exports},"860e":function(e,t,i){"use strict";i("cc0a")},8648:function(e,t,i){},b85c:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");var n=i("06c5");function a(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=Object(n.a)(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw o}}}}},bd7a:function(e,t,i){},cc0a:function(e,t,i){},dad7:function(e,t,i){}}]);